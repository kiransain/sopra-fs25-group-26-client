**DTO Notes:** 

- `UserPostDTO`: Requires `username`(string), `password`(string).
- `UserGetDTO`: Contains `userId`(long), `username`(string), `token`(string), `stats`(Map<String, String>).
- `GamePostDTO`: Requires `gamename`(string), `locationLat`(double), `locationLong`(double).
- `GamePutDTO`: Requires `locationLat`(double), `locationLong`(double, `startGame`(boolean).
- `GameGetDTO`: Contains `gameId`(long), `gamename`(string), `status`(GameStatus), `centerLatitude`(double), `centerLongitude`(double), `radius`(double), `creatorId` (long = playerId), `players` (List<PlayerGetDTO>), `timer` (LocalDateTime).
- `PlayerGetDTO`: Contains `playerId`(long), `userId`(long),  `role`(PlayerRole), `status`(PlayerStatus), `locationLat`(double), `locationLong`(double), `isOutOfArea`(boolean), `foundTime`(LocalDateTime), `rank`(double), `displayName`(String).

---

**User Endpoints**

|            |                   |                                                                                   |                    |                    |                                                                       |                                                                                                                                                                  |
|------------|-------------------|-----------------------------------------------------------------------------------|--------------------|--------------------|-----------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Method** | **Mapping**       | **Parameters (Type)**                                                             | **Success Status** | **Response Body**  | **Description**                                                       | **Potential Errors**                                                                                                                                             |
| POST       | `/users`          | Body: `UserPostDTO`                                                               | 201 CREATED        | `UserGetDTO`       | Register a new user.                                                  | 409 CONFLICT (Username exists)                                                                                                                                   |
| POST       | `/login`          | Body: `UserPostDTO`                                                               | 202 ACCEPTED       | `UserGetDTO`       | Log in a user.                                                        | 401 UNAUTHORIZED (Invalid credentials)                                                                                                                           |
| GET        | `/users`          | Header: `Authorization` (String)                                                  | 200 OK             | `List<UserGetDTO>` | Get a list of all users.                                              | 401 UNAUTHORIZED (Invalid token)                                                                                                                                 |
| PUT        | `/users/{userId}` | Body: `UserPutDTO`<br/>Path: `userId` (Long)<br/>Header: `Authorization` (String) | 204 NO CONTENT     | -                  | Update user profile (only works if requested `userId` matches token). | 401 UNAUTHORIZED (Invalid token)<br/>409 FORBIDDEN (Not own profile / User mismatch)<br/>404 NOT FOUND (userId not existing)<br/>400 BAD REQUEST (same password) |
| GET        | `/users/{userId}` | Path: `userId` (Long)<br/>Header: `Authorization` (String)                        | 200 OK             | `UserGetDTO`       | Get user profile (only works if requested `userId` matches token).    | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Not own profile / User mismatch)                                                                             |
| GET        | `/me`              | `Authorization` (String)                                                          | 200 OK             | `UserGetDTO`       | Get own user profile                                                  | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Not own profile / User mismatch)                                                                             |

**Game Endpoints**

|            |                                      |                                                                                      |                    |                    |                                                                                |                                                                                                                                                                                                                                |
|------------|--------------------------------------|--------------------------------------------------------------------------------------|--------------------|--------------------|--------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Method** | **Mapping**                          | **Parameters (Type)**                                                                | **Success Status** | **Response Body**  | **Description**                                                                | **Potential Errors**                                                                                                                                                                                                           |
| POST       | `/games`                             | Body: `GamePostDTO`<br/>Header: `Authorization` (String)                             | 201 CREATED        | `GameGetDTO`       | Create a new game. Creator is added as first player.                           | 401 UNAUTHORIZED (Invalid token)<br/>409 CONFLICT (Gamename exists)<br/>409 CONFLICT (User is already a Player)<br/>400 BAD REQUEST (prepTime not 10-300 / gameTime not 60-900 / radius not 5-100)                             |
| GET        | `/games`                             | Header: `Authorization` (String)                                                     | 200 OK             | `List<GameGetDTO>` | Get a list of joinable games (status IN_LOBBY).(polling method)                | 401 UNAUTHORIZED (Invalid token)                                                                                                                                                                                               |
| PUT        | `/games/{gameId}`                    | Path: `gameId` (Long)<br/>Body: `GamePutDTO`<br/>Header: `Authorization` (String)    | 200 OK             | `GameGetDTO`       | start game, join game and update location (polling method)                     | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found)<br/>403 FORBIDDEN (Game full / Not creator / Not enough players)                                                                                           |
| PUT        | `/games/{gameId}/players/{playerId}` | Path: `gameId` (Long) `playerId` (Long)<br/>Header: `Authorization` (String)         | 200 OK             | `GameGetDTO`       | player admits caught                                                           | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found)<br/>403 FORBIDDEN (player not in that game or user not that player)                                                                                        |
| PUT        | `/games/{gameId}/center`             | Path: `gameId` (Long)<br/>Header: `Authorization` (String)<br/>Body: `GameCenterDTO` | 200 OK             | `GameGetDTO`       | hunter powerup; changes game area center                                   | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found)<br/>403 FORBIDDEN (game is not in inGame status / player not a hunter / user not a player of that game / new coordinates are outside of current game area) |
| DELETE     | `/games/{gameId}/players/{playerId}` | Path: `gameId` (Long) `playerId` (Long) Header: `Authorization` (String)             | 204 NO CONTENT     | -                  | Leave game with status INLOBBY, if creator leaves game with all players is deleted | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game/Player not found)<br/>409 CONFLICT (Game not INLOBBY)<br/>403 FORBIDDEN (Player is not in that game or User is not that player)                                       |