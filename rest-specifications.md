**DTO Notes:** 

- `UserPostDTO`: Requires `username`, `password`.
- `UserGetDTO`: Contains `userId`, `username`, `token`, `stats`.
- `GamePostDTO`: Requires `gamename`, `locationLat`, `locationLong`.
- `GamePutDTO`: Requires `locationLat`, `locationLong`, `isStartGame`.
- `PlayerLocationPutDTO`: Requires `locationLat`, `locationLong`.
- `GameGetDTO`: Contains `gameId`, `gamename`, `status`, `centerLatitude`, `centerLongitude`, `radius`, `creatorId` (playerId), `players` (as `List<PlayerGetDTO>` ).
- `PlayerGetDTO` /  Contains `playerId`, `userId`,  `role`, `status`, `locationLat`, `locationLong`

---

**User Endpoints**

|            |                   |                                                            |                    |                    |                                                                    |                                                                                      |
| ---------- | ----------------- | ---------------------------------------------------------- | ------------------ | ------------------ | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------ |
| **Method** | **Mapping**       | **Parameters (Type)**                                      | **Success Status** | **Response Body**  | **Description**                                                    | **Potential Errors**                                                                 |
| POST       | `/users`          | Body: `UserPostDTO`                                        | 201 CREATED        | `UserGetDTO`       | Register a new user.                                               | 409 CONFLICT (Username exists)                                                       |
| POST       | `/login`          | Body: `UserPostDTO`                                        | 202 ACCEPTED       | `UserGetDTO`       | Log in a user.                                                     | 401 UNAUTHORIZED (Invalid credentials)                                               |
| GET        | `/users`          | _(None)_                                                   | 200 OK             | `List<UserGetDTO>` | Get a list of all users. _(No authentication shown in code)_       |                                                                                      |
| GET        | `/users/{userId}` | Path: `userId` (Long)<br/>Header: `Authorization` (String) | 200 OK             | `UserGetDTO`       | Get user profile (only works if requested `userId` matches token). | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Not own profile / User mismatch) |

**Game Endpoints**

|            |                                      |                                                                                             |                    |                      |                                                                                           |                                                                                                                                                                                                                         |
| ---------- | ------------------------------------ | ------------------------------------------------------------------------------------------- | ------------------ | -------------------- | ----------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Method** | **Mapping**                          | **Parameters (Type)**                                                                       | **Success Status** | **Response Body**    | **Description**                                                                           | **Potential Errors**                                                                                                                                                                                                    |
| POST       | `/games`                             | Body: `GamePostDTO`<br/>Header: `Authorization` (String)                                    | 201 CREATED        | `GameGetDTO`         | Create a new game. Creator is added as first player.                                      | 401 UNAUTHORIZED (Invalid token)<br/>409 CONFLICT (Gamename exists)<br/>409 CONFLICT (User is already a Player)                                                                                                         |
| GET        | `/games`                             | Header: `Authorization` (String)                                                            | 200 OK             | `List<GameGetDTO>`   | Get a list of joinable games (status IN_LOBBY).                                           | 401 UNAUTHORIZED (Invalid token)                                                                                                                                                                                        |
| PUT        | `/games/{gameId}`                    | Path: `gameId` (Long)<br/>Body: `GamePutDTO`<br/>Header: `Authorization` (String)           | 200 OK             | `GameGetDTO`         | Update lobby: Join game, update location if joined, or start game.                        | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found)<br/>403 FORBIDDEN (Game full / Not creator / Not enough players)                                                                                    |
| GET        | `/games/{gameId}/players`            | Path: `gameId` (Long)<br/>Header: `Authorization` (String)                                  | 200 OK             | `List<PlayerGetDTO>` | Get the list of players currently in a specific game. _(Using PlayerInfoDTO recommended)_ | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found)                                                                                                                                                     |
| PUT        | `/games/{gameId}/location`           | Path: `gameId` (Long)<br/>Body: `PlayerLocationPutDTO`<br/>Header: `Authorization` (String) | 204 NO CONTENT     | _(None)_             | Update the location for the authenticated user within the specified active game.          | 401 UNAUTHORIZED (Invalid token)<br/>404 NOT FOUND (Game not found / Player not in game)<br/>409 CONFLICT (Game not active)                                                                                             |
| PUT        | `/games/{gameId}/players/{playerId}` | Path: `gameId` (Long), `playerId` (Long)<br/>Header: `Authorization` (String)               | 204 NO CONTENT     | _(None)_             | Mark the specified player (who must be the authenticated user and a hider) as 'FOUND'.    | 401 UNAUTHORIZED (Invalid token)<br/>403 FORBIDDEN (Not authorized to mark this player)<br/>404 NOT FOUND (Game not found / Player not found)<br/>409 CONFLICT (Game not active / Player not hider / Player not hiding) |
